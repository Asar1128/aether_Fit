<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weight Loss Quiz</title>
    <link rel="stylesheet" href="../../Styles/Styles.css">
</head>
<body>
    <header>
        <div class="nav-logo">
            <a href="index.html" aria-label="" style="text-decoration: none; color:Black; font-size:2rem;">
                AetherFit
              </a>
            <div class="nav-language">
                <button class="btn-lang btn-link text-primary d-none"> English </button>
                <div class="btn-nav btn-link">
                    <input type="checkbox" id="side-nav-btn" />
                    <div class="side-bar-navigation">
                        <ul class="navigation">
                            <li><a href="" class="text-primary">Support</a></li>
                            <li><a href="" class="text-primary">About Us</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Question Body -->
    <section class="choose-body-fat-section text-primary custom-spacing">
        <div class="body-content">
            <div class="heading text-primary mb-20">Are you trying to lose weight?</div>
            <form action="/LooseWight" method="POST" id="yes-no-form">
                <input type="hidden" id="userId" name="userId" value="" />
                <input type="hidden" id="choice" name="choice" value="" />
                <div class="single-select-items">
                    <div class="item">
                        <input type="radio" value="Y" name="select" id="control_01" />
                        <label class="d-flex align-center" for="control_01">
                            <div><span class="fs-20 fw-bold">Yes</span></div>
                            <div class="goal-img-frame"><img src="../../img/_bdd4f2b2-29c7-4733-902c-36064ecbda7d-removebg-preview.png" /></div>
                        </label>
                    </div>
                    <div class="item">
                        <input type="radio" value="N" name="select" id="control_02" />
                        <label class="d-flex align-center" for="control_02">
                            <div><span class="fs-20 fw-bold">No</span></div>
                            <div class="goal-img-frame"><img src="../../img/_5184ac94-1116-45c3-9780-a964a1d3379f-removebg-preview.png" /></div>
                        </label>
                    </div>
                </div>
                <button type="submit" class="theme-btn text-primary">Submit</button>
            </form>
            
        </div>
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const userIdInput = document.getElementById('userId');
            const form = document.getElementById('yes-no-form');
    
            // Get userId from URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const userId = urlParams.get('user_Id');
    
            // If userId exists, set it to the hidden input
            if (userId) {
                userIdInput.value = userId;
            } else {
                alert('User ID is missing in the URL parameters!');
                return; // Stop further execution if userId is missing
            }
    
            form.addEventListener('submit', (event) => {
                // Ensure the user selects a choice before submitting the form
                const selectedChoice = document.querySelector('input[name="select"]:checked');
                if (!selectedChoice) {
                    event.preventDefault(); // Prevent form submission
                    alert('Please select Yes or No');
                    return;
                }
    
                // Set the value of the hidden "choice" input field
                document.getElementById('choice').value = selectedChoice.value;
            });
        });
    </script>
    
</body>
</html>
